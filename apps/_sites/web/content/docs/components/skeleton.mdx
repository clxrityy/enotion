import { Skeleton, SkeletonWrapper } from "@enotion/components";
import { useState } from "react";

# Skeleton

- [Import](#import)
- [Components](#components)
- [SkeletonWrapper](#skeletonwrapper)
  - [Props](#skeletonwrapper-props)
  - [Basic Usage](#skeletonwrapper-basic-usage)
  - [With Custom Skeleton](#with-custom-skeleton)
  - [Multiple Children](#multiple-children)
- [Skeleton](#skeleton-1)
  - [Props](#skeleton-props)
  - [Basic Usage](#skeleton-basic-usage)
  - [With Reference Element](#with-reference-element)
  - [Custom Styling](#custom-styling)
  - [Card Loading State](#card-loading-state)
- [Animation](#animation)
- [Styling](#styling)
- [Accessibility](#accessibility)
- [See Also](#see-also)

Loading placeholder components with automatic sizing and animation.

---

## Import

```tsx
import { Skeleton, SkeletonWrapper } from "@enotion/components";
```

## Components

This module exports two components:

- **SkeletonWrapper**: Wraps content and shows skeleton placeholders during loading
- **Skeleton**: Standalone skeleton element with custom dimensions

## SkeletonWrapper

A wrapper component that automatically generates skeleton placeholders matching the dimensions of its children.

### Props

- **isLoading** (boolean, optional): Controls whether to show skeleton or children
- **children** (ReactNode, required): Content to wrap and measure
- **skeleton** (ReactNode, optional): Custom skeleton to display during loading
- **skeletonClassName** (string, optional): CSS class for skeleton elements (default: "skeleton")
- **animate** (boolean, optional): Enable skeleton animation (default: true)
- **palette** (ColorPaletteType, optional): Color palette for theming
- **theme** (Theme, optional): Theme (light/dark) for default palette selection
- All standard div HTML attributes

### Basic Usage

```tsx
import { SkeletonWrapper } from "@enotion/components";

function Example({ isLoading }) {
  return (
    <SkeletonWrapper isLoading={isLoading}>
      <div className="card">
        <h2>Title</h2>
        <p>Description text</p>
      </div>
    </SkeletonWrapper>
  );
}
```

export const SkeletonWrapperExample = () => {
  const [isLoading, setIsLoading] = useState(true);

  return (
    <div className="flex flex-col gap-4">
      <button onClick={() => setIsLoading(!isLoading)} className="px-4 py-2 bg-blue-500 text-white rounded">
        Toggle Loading
      </button>
      <SkeletonWrapper isLoading={isLoading} palette="dark">
        <div className="card p-4">
          <h2>Content Title</h2>
          <p>This is some content that will be replaced with skeleton when loading.</p>
        </div>
      </SkeletonWrapper>
    </div>
  );
};

<SkeletonWrapperExample />

### With Custom Skeleton

```tsx
import { SkeletonWrapper } from "@enotion/components";

function Example({ isLoading }) {
  return (
    <SkeletonWrapper
      isLoading={isLoading}
      skeleton={<div className="custom-skeleton" />}
    >
      <UserProfile />
    </SkeletonWrapper>
  );
}
```

### Multiple Children

```tsx
import { SkeletonWrapper } from "@enotion/components";

function Example({ isLoading }) {
  return (
    <SkeletonWrapper isLoading={isLoading}>
      <h1>Page Title</h1>
      <p>Paragraph 1</p>
      <p>Paragraph 2</p>
      <button>Action</button>
    </SkeletonWrapper>
  );
}
```

## Skeleton

A standalone skeleton element for custom loading placeholders.

### Props

- **width** (number | string, optional): Width in pixels or CSS units
- **height** (number | string, optional): Height in pixels or CSS units
- **borderRadius** (number | string, optional): Border radius (default: "4px")
- **referenceElement** (RefObject, optional): Element to inherit size from
- **animate** (boolean, optional): Enable animation (default: true)
- **palette** (ColorPaletteType, optional): Color palette for theming
- **theme** (Theme, optional): Theme (light/dark) for default palette selection
- All standard div HTML attributes

### Basic Usage

```tsx
import { Skeleton } from "@enotion/components";

function Example() {
  return (
    <Skeleton width={200} height={40} />
  );
}
```

<div className="flex flex-col gap-4">
  <Skeleton width={200} height={40} palette="dark" />
  <Skeleton width="100%" height={60} palette="dark" />
  <Skeleton width={150} height={150} borderRadius="50%" palette="dark" />
</div>

### With Reference Element

```tsx
import { Skeleton } from "@enotion/components";
import { useRef } from "react";

function Example() {
  const ref = useRef(null);

  return (
    <>
      <div ref={ref}>Content</div>
      <Skeleton referenceElement={ref} />
    </>
  );
}
```

### Custom Styling

```tsx
import { Skeleton } from "@enotion/components";

function Example() {
  return (
    <Skeleton
      width="100%"
      height="2em"
      borderRadius="8px"
      palette="monochrome"
    />
  );
}
```

### Card Loading State

```tsx
import { Skeleton } from "@enotion/components";

function CardSkeleton() {
  return (
    <div className="card">
      <Skeleton width="100%" height={200} />
      <Skeleton width="80%" height={24} />
      <Skeleton width="100%" height={16} />
      <Skeleton width="90%" height={16} />
    </div>
  );
}
```

## Animation

Both components support animation via the animate prop. When enabled, skeletons display a subtle pulse or shimmer effect to indicate loading state.

## Styling

Both components use CSS custom properties for theming:

- **--skeleton-bg-color**: Background color from palette muted
- **--skeleton-bg-accent**: Accent background for animation
- **--skeleton-fg-color**: Foreground color

## Accessibility

Both components include proper ARIA attributes:

- **aria-busy="true"**: Indicates loading state
- **aria-live="polite"**: Announces state changes to screen readers
